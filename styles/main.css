:root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color-scheme: dark; }
body { margin: 0; background:#0b0f14; color:#e8eef5; }

/* Tabs */
.tabs { display:flex; gap:8px; padding:12px 16px; border-bottom:1px solid #223044; background:#0e1420; position:sticky; top:0; z-index:20; }
.tab-btn { padding:10px 14px; border-radius:8px; border:1px solid #2a3b55; background:#172335; color:#e8eef5; cursor:pointer; }
.tab-btn[aria-selected="true"] { background:#1f2c43; border-color:#3b5175; }
.panel { display:none; padding:20px; }
.panel.active { display:block; }

/* Controls */
.controls { margin-bottom:16px; display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:center; }
input[type="file"] { display:none; }
.btn, select, input[type="text"], input[type="color"], input[type="range"], label.switch {
  border:1px solid #2a3b55; background:#172335; color:#e8eef5; border-radius:8px; padding:8px 10px; font-size:14px;
}
.btn { cursor:pointer; }
.hint { font-size:13px; color:#9fb0c7; text-align:center; }
.row { display:flex; align-items:center; gap:8px; flex-wrap:wrap; }

/* Switch */
.switch { display:inline-flex; align-items:center; gap:8px; padding:6px 8px; background:#101725; border:1px solid #2a3b55; border-radius:8px; }
.switch input { appearance:none; width:40px; height:22px; background:#213048; border-radius:999px; position:relative; outline:none; cursor:pointer; }
.switch input:checked { background:#3a6cf0; }
.switch input::after { content:""; position:absolute; top:3px; left:3px; width:16px; height:16px; border-radius:50%; background:#e8eef5; transition:left .2s; }
.switch input:checked::after { left:21px; }

/* Feature 1: Loader */
#f1-stage {
  padding:64px; display:flex; align-items:center; justify-content:center;
  background:#0f141c; border:1px dashed #2a3b55; border-radius:12px; overflow:hidden;
  box-sizing:content-box; transition: width .2s, height .2s, background .2s;
  margin:0 auto; cursor:pointer;
}
#f1-stage:hover { border-color:#3a6cf0; }

/* ===== Feature 2: Screen Preview — полноэкранная область с 32px отступами ===== */

/* Обёртка на всю высоту окна: отступы 32px со всех сторон */
.viewport-wrap {
  height: calc(100vh - 20px - 20px); /* минус собственные паддинги секции panel (по 20px) */
  padding: 32px;
  box-sizing: border-box;
}

/* Прокручиваемая рамка (занимает всю доступную высоту обёртки) */
.stage-frame {
  position: relative;
  width: 100%;
  height: 100%;
  margin: 0 auto;
  background: #0f141c;
  border: 1px solid #223044;
  border-radius: 12px;
  overflow: auto;          /* скролл, если контент больше области */
}

/* Внутренний контент равен размеру вставленной картинки */
.stage-content {
  position: relative;
  display: inline-block;   /* чтобы размеры зависели от содержимого */
}

/* Картинка растягивается ровно на размеры .stage-content, которые мы задаём из JS */
#f2-bgImg {
  display: none;
  width: 100%;
  height: auto;          /* сохраняем пропорции */
  max-width: 100%;       /* не выходит за границы области */
  user-select: none;
  pointer-events: none;
}

/* Оверлей для Lottie — как раньше, поверх контента */
#f2-animHost {
  position: absolute; left: 20px; top: 20px; width: 220px; height: 220px;
  outline: 1.5px dashed rgba(255,255,255,.35);
  border-radius: 2px; z-index: 2;
  cursor: grab;
  user-select: none;
  -webkit-user-drag: none;
}
#f2-animHost.dragging { cursor: grabbing; }
.handle {
  position: absolute;
  width: 12px; height: 12px;
  background: #e8eef5; border-radius: 2px; border: 1px solid #1a273a;
  z-index: 4; display: none;
}
.handle.nw { left:-7px; top:-7px; cursor:nwse-resize; }
.handle.ne { right:-7px; top:-7px; cursor:nesw-resize; }
.handle.sw { left:-7px; bottom:-7px; cursor:nesw-resize; }
.handle.se { right:-7px; bottom:-7px; cursor:nwse-resize; }

